{"remainingRequest":"/Users/lipfer/Downloads/barber/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lipfer/Downloads/barber/src/components/HairsalonsAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lipfer/Downloads/barber/src/components/HairsalonsAdd.vue","mtime":1624476698000},{"path":"/Users/lipfer/Downloads/barber/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lipfer/Downloads/barber/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lipfer/Downloads/barber/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lipfer/Downloads/barber/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhhaXJzYWxvbnNBZGQiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlcnJvcnM6IFtdLAogICAgICAgICAgICBoYWlyc2Fsb246IHsKICAgICAgICAgICAgICAgIGhzYWxvbl9uYW1lOiAiICIsCiAgICAgICAgICAgICAgICBoc2Fsb25fZGV0YWlsOiAiICIsCiAgICAgICAgICAgICAgICBoc2Fsb25fYWRkcmVzczogIiAiLAogICAgICAgICAgICAgICAgaHNhbG9uX3RpbWU6IDEsCiAgICAgICAgICAgICAgICBoc2Fsb25fcGljOiAiICIsCiAgICAgICAgICAgICAgICBoc2Fsb25fbGF0OiAxLAogICAgICAgICAgICAgICAgaHNhbG9uX2xuZzogMQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgCiAgbWV0aG9kczogewogICAgICAgIGFzeW5jIFNhdmVTYWxvbnMoKSB7CiAgICAgICAgICAgIGlmIChjb25maXJtKCJEbyB5b3Ugd2FudCB0byBzYXZlICB0aGlzIGJvb2s/IikpIHsKICAgICAgICAgICAgICAgIHRoaXMuaGFpcnNhbG9uLnB1Ymxpc2hlZERhdGUgPSBtb21lbnQoU3RyaW5nKHRoaXMuaGFpcnNhbG9uLnB1Ymxpc2hlZERhdGUpKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgIC8vIGxldCBib29raW1hZ2UgPSBhd2FpdCB0aGlzLiRyZWZzLmJvb2tpbWFnZS5nZXRGaWxlTmFtZSgpCiAgICAgICAgICAgICAgICAvLyBpZiAoYXdhaXQgYm9va2ltYWdlICE9PSAiIikgewogICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuYm9vay50aHVtYm5haWxVcmwgPSBhd2FpdCBib29raW1hZ2UKICAgICAgICAgICAgICAgIC8vICAgICBhd2FpdCB0aGlzLiRyZWZzLmJvb2tpbWFnZS5VcGxvYWRJbWFnZSgpOwogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgbGV0IGFjY2Vzc1Rva2VuPSBhd2FpdCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzVG9rZW4nKQogICAgICAgICAgICAgICAgaWYgKGF3YWl0IGFjY2Vzc1Rva2VuKXsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92MS8iICsgImhhaXJzYWxvbi8iLCB0aGlzLmhhaXJzYWxvbix7IGhlYWRlcnM6IHsiQXV0aG9yaXphdGlvbiIgOiBgYmVhcmVyICR7YWNjZXNzVG9rZW59YH0gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZXRUaW1lb3V0KCgpID0+IHRoaXMuJHJvdXRlci5wdXNoKCcvaGFpcnNhbG9ucycpLCA1MDApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2h7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICBDYW5jZWwoKSB7CiAgICAgIGlmIChjb25maXJtKCLguJXguYnguK3guIfguIHguLLguKPguKLguIHguYDguKXguLTguIE/IikpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICB9CiAgICB9LAogIH0sCn07Cgog"},{"version":3,"sources":["HairsalonsAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HairsalonsAdd.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <br/> <br/>\n    <div class=\"row\">\n      <div >\n        <h2>เพิ่มร้านทำผม</h2> <br/>\n      </div>\n    </div>\n    <div class=\"container\">\n        <form class=\"needs-validation\" v-on:submit.prevent=\"\" novalidate>\n          <div class=\"form-group row\">\n              <div class=\"col-6\">\n                  <div class=\"form-group\">\n                      <label for=\"title\">ชื่อร้านทำผม : </label>\n                      <input type=\"text\" v-model=\"hairsalon.hsalon_name\" class=\"form-control\" id=\"name\" placeholder=\"ชื่อร้านทำผม\" name=\"name\" />\n                  </div>\n              </div>\n          </div>\n          <div class=\"form-group row\">\n              <div class=\"col-5\">\n                  <div class=\"form-group\">\n                      <label for=\"detail\">รายละเอียดร้าน : </label>\n                      <textarea v-model=\"hairsalon.hsalon_detail\" class=\"form-control\" id=\"detail\" placeholder=\"รายละเอียดร้าน\" rows=\"3\"></textarea>\n                  </div>\n              </div>\n              <div class=\"col-5\">\n                  <div class=\"form-group\">\n                      <label for=\"detail\">ที่อยู่ร้าน : </label>\n                      <textarea v-model=\"hairsalon.hsalon_address\" class=\"form-control\" id=\"address\" placeholder=\"ที่อยู่ร้าน\" rows=\"3\"></textarea>\n                  </div>\n              </div>\n          </div>\n          <div class=\"form-group row\">\n              <div class=\"col-4\">\n                  <div class=\"form-group\">\n                      <label for=\"lat\">เวลาทำการ : </label>\n                      <input v-model=\"hairsalon.hsalon_time\" type=\"text\" class=\"form-control\" id=\"time\" placeholder=\"เวลาทำการ\" name=\"time\"/>\n                  </div>\n              </div>\n              <div class=\"col-4\">\n                  <div class=\"form-group\">\n                      <label for=\"lat\">รูปร้าน :</label>\n                      <input v-model=\"hairsalon.hsalon_pic\" type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"ชื่อไฟล์\" name=\"image\"/>\n                  </div>\n              </div>\n          </div>\n          <div class=\"form-group row\">\n              <div class=\"col-4\">\n                  <div class=\"form-group\">\n                      <label for=\"lat\">ละติจูด :</label>\n                      <input v-model=\"hairsalon.hsalon_lat\" type=\"number\" class=\"form-control\" id=\"lat\" placeholder=\"ละติจูด\" name=\"lat\"/>\n                  </div>\n              </div>\n              <div class=\"col-4\">\n                  <div class=\"form-group\">\n                      <label for=\"lat\">ลองติจูด :</label>\n                      <input v-model=\"hairsalon.hsalon_lng\"  type=\"number\" class=\"form-control\" id=\"lng\" placeholder=\"ลองติจูด\" name=\"lng\"/>\n                  </div>\n              </div>\n          </div>\n           <button class=\"btn btn-primary\" v-on:click=\"SaveSalons()\">บันทึก</button> &nbsp;\n           <button class=\"btn btn-danger\" v-on:click=\"Cancel()\">ยกเลิก</button>\n      </form>\n    </div>\n    <br /><br /><br /><br />\n  </div>\n</template>\n\n<script>\n\nimport moment from 'moment';\nimport axios from \"axios\";\n\nexport default {\n  name: \"HairsalonsAdd\",\n    data() {\n        return {\n            errors: [],\n            hairsalon: {\n                hsalon_name: \" \",\n                hsalon_detail: \" \",\n                hsalon_address: \" \",\n                hsalon_time: 1,\n                hsalon_pic: \" \",\n                hsalon_lat: 1,\n                hsalon_lng: 1\n            }\n        }\n    },\n   \n  methods: {\n        async SaveSalons() {\n            if (confirm(\"Do you want to save  this book?\")) {\n                this.hairsalon.publishedDate = moment(String(this.hairsalon.publishedDate)).format('YYYY-MM-DD');\n                // let bookimage = await this.$refs.bookimage.getFileName()\n                // if (await bookimage !== \"\") {\n                //     this.book.thumbnailUrl = await bookimage\n                //     await this.$refs.bookimage.UploadImage();\n                // }\n                let accessToken= await localStorage.getItem('accessToken')\n                if (await accessToken){\n                    try {\n                            await axios.post(\"http://localhost:3000/api/v1/\" + \"hairsalon/\", this.hairsalon,{ headers: {\"Authorization\" : `bearer ${accessToken}`} });\n                            await setTimeout(() => this.$router.push('/hairsalons'), 500);\n                        }\n                    catch{\n                        this.$router.push('/');\n                    }\n                }else{\n                    this.$router.push('/');\n                }\n            }\n        },\n    Cancel() {\n      if (confirm(\"ต้องการยกเลิก?\")) {\n        this.$router.push(\"/\");\n      }\n    },\n  },\n};\n\n </script>\n\n<style scoped>\n.book-item {\n  background: #f4f4f4;\n  padding: 10px;\n  border-bottom: 1px #ccc dotted;\n}\n\nlabel {\n  /* Other styling... */\n  font-family: 'Mitr', sans-serif;\n  text-align: right;\n  clear: both;\n  float: left;\n  margin-right: 15px;\n}\ninput,h2{\n    font-family: 'Mitr', sans-serif;\n}\n\ntextarea {\n    font-family: 'Mitr', sans-serif;\n}\n\n\n@import url('https://fonts.googleapis.com/css2?family=Mitr&display=swap');\n\n</style>"]}]}